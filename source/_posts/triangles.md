---
title: 杨辉三角
date: 2018-05-27 17:35:10
tags: [算法]
categories: JavaScript
---
近日到廖雪峰老师的网站上学习Python的generator,尝试解析下方便记忆:
<!-- more -->
题目是:

    杨辉三角定义如下：
```
          1
         / \
        1   1
       / \ / \
      1   2   1
     / \ / \ / \
    1   3   3   1
   / \ / \ / \ / \
  1   4   6   4   1
 / \ / \ / \ / \ / \
1   5   10  10  5   1
```
把每一行看做一个list，试写一个generator，不断输出下一行的list.

答案是:
```
def triangles():
    L = [1]
    while True:
        yield L
        L= [(L + [0])[i] + ([0] + L)[i] for i in range(len(L)+1)]
```

`L = [1] ` 用于输出第一行的 `1`
重点是`L= [(L + [0])[i] + ([0] + L)[i] for i in range(len(L)+1)]`这一行.
```
首先看下 ( L + [0] )  --> [ 1, 0 ] 俩数组相加相当于数组拼接.

同理     ( [0] + L )  --> [0, 1]

L = [(L + [0])[i] + ([0] + L)[i] for i in range(len(L)+1)]
等同于
L = [ [ 1, 0 ][i] + [0, 1][i] for i in range(len(L)+1) ]
range(len(L)+1) 这里 +1 的目的是因为 L + [0] 这里导致 len 加了 1 ;
range(len(L)+1) -->  0, 1 

当 i = 0 时:  
L = [ 1 + 0 ]

当 i = 1 时:
L = [ 0 + 1 ]

结果: L = [ 1, 1 ]

当 L = [ 1, 1 ] 时, 如下:

[1, 1, 0] [0, 1, 1]
    [1, 2, 1]
```

因本人是新手, 如有错误请告知.